<!DOCTYPE HTML>
<html>
<body>
	<h1>LocaList</h1>
    <h5>LocaList for your loooca life</h5>
    <input type="button" value="+" onClick="newList()"/>
 	<input type="textbox" id="addedItem" />
    <input type="button" value="Add List" onclick="addList('ToDoListTable')" onKeyDown = "Javascript: if (event.keyCode==13) addList('ToDoListTable');"/>
    <input type="button" value="Delete List" onclick="deleteList('ToDoListTable')" />
    <h3 id = "demo">  </h3>
    <table id="ToDoListTable" width="350px" bordez="1"></table>

	Total Items: <a id="pTotal"></a>



	<script>

        // var lists = [];
        var lName;
        var con=[];
        var loc;
        // var index = 0;
        // var con;
        function newList() {
            // var list = {lName : "listName", contents : [], loc : "location"};
            loc = "location";
            // lName = "listName";

            // lists.push(list);
            var lName = prompt("What's your list's name", "Yo List");
            document.getElementById("demo").innerHTML = lName;
            // con = list.contents;
            // window.alert(lName);
        }

	  	function addList(myTable) {
            var table = document.getElementById(myTable);
            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
          	var b=document.getElementById('addedItem').value;

			var cell1 = row.insertCell(0);
            var element1 = document.createElement("input");
            element1.type = "text";
            element1.style.width="100%";
            element1.name = "txtbox[]";
            element1.value=b;
            cell1.appendChild(element1);
 	
 			var cell2 = row.insertCell(1);
            var element2 = document.createElement("input");
            element2.type = "checkbox";
            element2.name="chkbox[]";
            cell2.appendChild(element2);
			
			var newItem = document.getElementById('addedItem').value;
			document.getElementById('pTotal').innerHTML= rowCount + 1;

            con.push(newItem);
            // alert(con);
            // var curList = ;
            // alert(addedItem);
            // var con = lists[index].content;
            // alert(con);
            // con.push(addedItem);
            // alert(con);
            // lists[index].content.push(addedItem);
            // getContents().push(addedItem);
            // contents.push(addedItem);
            // window.alert("lists[index].content" + con);
        }

        function deleteList(myTable) {

            var table = document.getElementById(myTable);
            var rowCount = table.rows.length;

            for(var i=0; i<rowCount; i++) {
                var row = table.rows[i];
                var chkbox = row.cells[1].childNodes[0];
                if(null != chkbox && true == chkbox.checked) {
                    table.deleteRow(i);
                    con.splice(i,1);
                    rowCount--;
                    i--;

 			        document.getElementById('pTotal').innerHTML= rowCount;

                }
            }

            alert(con);
        }

	</script>
</body>
</html>